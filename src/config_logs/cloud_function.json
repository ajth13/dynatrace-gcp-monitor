{
  "name": "cloud_function",
  "displayName": "Cloud Function",
  "rules": [
    {
      "sources": [
        {
          "sourceType": "logs",
          "source": "resourceType",
          "condition": "$eq('cloud_function')"
        }
      ],
      "attributes": [
        {
          "key": "faas.id",
          "pattern": "join('', ['//cloudfunctions.googleapis.com/projects/', resource.labels.project_id, '/locations/', (resource.labels.region || resource.labels.location), '/functions/', (resource.labels.function_name || resource.labels.configuration_name)])"
        },
        {
          "key": "faas.name",
          "pattern": "(resource.labels.function_name || resource.labels.configuration_name)"
        },
        {
          "key": "gcp.instance.name",
          "pattern": "(resource.labels.function_name || resource.labels.configuration_name)"
        },
        {
          "key": "content",
          "pattern": "@"
        }
      ]
    }
  ]
}